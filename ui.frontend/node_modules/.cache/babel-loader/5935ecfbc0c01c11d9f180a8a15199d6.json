{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clearChunks = exports.flushModuleIds = exports.flushChunkNames = exports.MODULE_IDS = exports.CHUNK_NAMES = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.default = requireUniversalModule;\n\nvar _utils = require('./utils');\n\nvar CHUNK_NAMES = exports.CHUNK_NAMES = new Set();\nvar MODULE_IDS = exports.MODULE_IDS = new Set();\n\nfunction requireUniversalModule(universalConfig, options, props, prevProps) {\n  var key = options.key,\n      _options$timeout = options.timeout,\n      timeout = _options$timeout === undefined ? 15000 : _options$timeout,\n      onLoad = options.onLoad,\n      onError = options.onError,\n      isDynamic = options.isDynamic,\n      modCache = options.modCache,\n      promCache = options.promCache,\n      usesBabelPlugin = options.usesBabelPlugin;\n  var config = getConfig(isDynamic, universalConfig, options, props);\n  var chunkName = config.chunkName,\n      path = config.path,\n      resolve = config.resolve,\n      load = config.load;\n  var asyncOnly = !path && !resolve || typeof chunkName === 'function';\n\n  var requireSync = function requireSync(props) {\n    var exp = (0, _utils.loadFromCache)(chunkName, props, modCache);\n\n    if (!exp) {\n      var mod = void 0;\n\n      if (!(0, _utils.isWebpack)() && path) {\n        var modulePath = (0, _utils.callForString)(path, props) || '';\n        mod = (0, _utils.tryRequire)(modulePath);\n      } else if ((0, _utils.isWebpack)() && resolve) {\n        var weakId = (0, _utils.callForString)(resolve, props);\n\n        if (__webpack_modules__[weakId]) {\n          mod = (0, _utils.tryRequire)(weakId);\n        }\n      }\n\n      if (mod) {\n        exp = (0, _utils.resolveExport)(mod, key, onLoad, chunkName, props, modCache, true);\n      }\n    }\n\n    return exp;\n  };\n\n  var requireAsync = function requireAsync(props) {\n    var exp = (0, _utils.loadFromCache)(chunkName, props, modCache);\n    if (exp) return Promise.resolve(exp);\n    var cachedPromise = (0, _utils.loadFromPromiseCache)(chunkName, props, promCache);\n    if (cachedPromise) return cachedPromise;\n    var prom = new Promise(function (res, rej) {\n      var reject = function reject(error) {\n        error = error || new Error('timeout exceeded');\n        clearTimeout(timer);\n\n        if (onError) {\n          var _isServer = typeof window === 'undefined';\n\n          var info = {\n            isServer: _isServer\n          };\n          onError(error, info);\n        }\n\n        rej(error);\n      }; // const timer = timeout && setTimeout(reject, timeout)\n\n\n      var timer = timeout && setTimeout(reject, timeout);\n\n      var resolve = function resolve(mod) {\n        clearTimeout(timer);\n        var exp = (0, _utils.resolveExport)(mod, key, onLoad, chunkName, props, modCache);\n        if (exp) return res(exp);\n        reject(new Error('export not found'));\n      };\n\n      var request = load(props, {\n        resolve: resolve,\n        reject: reject\n      }); // if load doesn't return a promise, it must call resolveImport\n      // itself. Most common is the promise implementation below.\n\n      if (!request || typeof request.then !== 'function') return;\n      request.then(resolve).catch(reject);\n    });\n    (0, _utils.cacheProm)(prom, chunkName, props, promCache);\n    return prom;\n  };\n\n  var addModule = function addModule(props) {\n    if (_utils.isServer || _utils.isTest) {\n      if (chunkName) {\n        var name = (0, _utils.callForString)(chunkName, props);\n\n        if (usesBabelPlugin) {\n          // if ignoreBabelRename is true, don't apply regex\n          var shouldKeepName = options && !!options.ignoreBabelRename;\n\n          if (!shouldKeepName) {\n            name = name.replace(/\\//g, '-');\n          }\n        }\n\n        if (name) CHUNK_NAMES.add(name);\n        if (!_utils.isTest) return name; // makes tests way smaller to run both kinds\n      }\n\n      if ((0, _utils.isWebpack)()) {\n        var weakId = (0, _utils.callForString)(resolve, props);\n        if (weakId) MODULE_IDS.add(weakId);\n        return weakId;\n      }\n\n      if (!(0, _utils.isWebpack)()) {\n        var modulePath = (0, _utils.callForString)(path, props);\n        if (modulePath) MODULE_IDS.add(modulePath);\n        return modulePath;\n      }\n    }\n  };\n\n  var shouldUpdate = function shouldUpdate(next, prev) {\n    var cacheKey = (0, _utils.callForString)(chunkName, next);\n    var config = getConfig(isDynamic, universalConfig, options, prev);\n    var prevCacheKey = (0, _utils.callForString)(config.chunkName, prev);\n    return cacheKey !== prevCacheKey;\n  };\n\n  return {\n    requireSync: requireSync,\n    requireAsync: requireAsync,\n    addModule: addModule,\n    shouldUpdate: shouldUpdate,\n    asyncOnly: asyncOnly\n  };\n}\n\nvar flushChunkNames = exports.flushChunkNames = function flushChunkNames() {\n  var chunks = Array.from(CHUNK_NAMES);\n  CHUNK_NAMES.clear();\n  return chunks;\n};\n\nvar flushModuleIds = exports.flushModuleIds = function flushModuleIds() {\n  var ids = Array.from(MODULE_IDS);\n  MODULE_IDS.clear();\n  return ids;\n};\n\nvar clearChunks = exports.clearChunks = function clearChunks() {\n  CHUNK_NAMES.clear();\n  MODULE_IDS.clear();\n};\n\nvar getConfig = function getConfig(isDynamic, universalConfig, options, props) {\n  if (isDynamic) {\n    var resultingConfig = typeof universalConfig === 'function' ? universalConfig(props) : universalConfig;\n\n    if (options) {\n      resultingConfig = _extends({}, resultingConfig, options);\n    }\n\n    return resultingConfig;\n  }\n\n  var load = typeof universalConfig === 'function' ? universalConfig : // $FlowIssue\n  function () {\n    return universalConfig;\n  };\n  return {\n    file: 'default',\n    id: options.id || 'default',\n    chunkName: options.chunkName || 'default',\n    resolve: options.resolve || '',\n    path: options.path || '',\n    load: load,\n    ignoreBabelRename: true\n  };\n};","map":{"version":3,"sources":["/Users/anele.mzinyati/Documents/repos/aem-react-spa-app/ui.frontend/node_modules/react-universal-component/dist/requireUniversalModule.js"],"names":["Object","defineProperty","exports","value","clearChunks","flushModuleIds","flushChunkNames","MODULE_IDS","CHUNK_NAMES","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","default","requireUniversalModule","_utils","require","Set","universalConfig","options","props","prevProps","_options$timeout","timeout","onLoad","onError","isDynamic","modCache","promCache","usesBabelPlugin","config","getConfig","chunkName","path","resolve","load","asyncOnly","requireSync","exp","loadFromCache","mod","isWebpack","modulePath","callForString","tryRequire","weakId","__webpack_modules__","resolveExport","requireAsync","Promise","cachedPromise","loadFromPromiseCache","prom","res","rej","reject","error","Error","clearTimeout","timer","_isServer","window","info","isServer","setTimeout","request","then","catch","cacheProm","addModule","isTest","name","shouldKeepName","ignoreBabelRename","replace","add","shouldUpdate","next","prev","cacheKey","prevCacheKey","chunks","Array","from","clear","ids","resultingConfig","file","id"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,WAAR,GAAsBF,OAAO,CAACG,cAAR,GAAyBH,OAAO,CAACI,eAAR,GAA0BJ,OAAO,CAACK,UAAR,GAAqBL,OAAO,CAACM,WAAR,GAAsBC,SAApH;;AAEA,IAAIC,QAAQ,GAAGV,MAAM,CAACW,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,SAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIhB,MAAM,CAACkB,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,QAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOL,MAAP;AAAgB,CAAhQ;;AAEAV,OAAO,CAACmB,OAAR,GAAkBC,sBAAlB;;AAEA,IAAIC,MAAM,GAAGC,OAAO,CAAC,SAAD,CAApB;;AAEA,IAAIhB,WAAW,GAAGN,OAAO,CAACM,WAAR,GAAsB,IAAIiB,GAAJ,EAAxC;AACA,IAAIlB,UAAU,GAAGL,OAAO,CAACK,UAAR,GAAqB,IAAIkB,GAAJ,EAAtC;;AAEA,SAASH,sBAAT,CAAgCI,eAAhC,EAAiDC,OAAjD,EAA0DC,KAA1D,EAAiEC,SAAjE,EAA4E;AAC1E,MAAIZ,GAAG,GAAGU,OAAO,CAACV,GAAlB;AAAA,MACIa,gBAAgB,GAAGH,OAAO,CAACI,OAD/B;AAAA,MAEIA,OAAO,GAAGD,gBAAgB,KAAKrB,SAArB,GAAiC,KAAjC,GAAyCqB,gBAFvD;AAAA,MAGIE,MAAM,GAAGL,OAAO,CAACK,MAHrB;AAAA,MAIIC,OAAO,GAAGN,OAAO,CAACM,OAJtB;AAAA,MAKIC,SAAS,GAAGP,OAAO,CAACO,SALxB;AAAA,MAMIC,QAAQ,GAAGR,OAAO,CAACQ,QANvB;AAAA,MAOIC,SAAS,GAAGT,OAAO,CAACS,SAPxB;AAAA,MAQIC,eAAe,GAAGV,OAAO,CAACU,eAR9B;AAWA,MAAIC,MAAM,GAAGC,SAAS,CAACL,SAAD,EAAYR,eAAZ,EAA6BC,OAA7B,EAAsCC,KAAtC,CAAtB;AACA,MAAIY,SAAS,GAAGF,MAAM,CAACE,SAAvB;AAAA,MACIC,IAAI,GAAGH,MAAM,CAACG,IADlB;AAAA,MAEIC,OAAO,GAAGJ,MAAM,CAACI,OAFrB;AAAA,MAGIC,IAAI,GAAGL,MAAM,CAACK,IAHlB;AAKA,MAAIC,SAAS,GAAG,CAACH,IAAD,IAAS,CAACC,OAAV,IAAqB,OAAOF,SAAP,KAAqB,UAA1D;;AAEA,MAAIK,WAAW,GAAG,SAASA,WAAT,CAAqBjB,KAArB,EAA4B;AAC5C,QAAIkB,GAAG,GAAG,CAAC,GAAGvB,MAAM,CAACwB,aAAX,EAA0BP,SAA1B,EAAqCZ,KAArC,EAA4CO,QAA5C,CAAV;;AAEA,QAAI,CAACW,GAAL,EAAU;AACR,UAAIE,GAAG,GAAG,KAAK,CAAf;;AAEA,UAAI,CAAC,CAAC,GAAGzB,MAAM,CAAC0B,SAAX,GAAD,IAA4BR,IAAhC,EAAsC;AACpC,YAAIS,UAAU,GAAG,CAAC,GAAG3B,MAAM,CAAC4B,aAAX,EAA0BV,IAA1B,EAAgCb,KAAhC,KAA0C,EAA3D;AACAoB,QAAAA,GAAG,GAAG,CAAC,GAAGzB,MAAM,CAAC6B,UAAX,EAAuBF,UAAvB,CAAN;AACD,OAHD,MAGO,IAAI,CAAC,GAAG3B,MAAM,CAAC0B,SAAX,OAA2BP,OAA/B,EAAwC;AAC7C,YAAIW,MAAM,GAAG,CAAC,GAAG9B,MAAM,CAAC4B,aAAX,EAA0BT,OAA1B,EAAmCd,KAAnC,CAAb;;AAEA,YAAI0B,mBAAmB,CAACD,MAAD,CAAvB,EAAiC;AAC/BL,UAAAA,GAAG,GAAG,CAAC,GAAGzB,MAAM,CAAC6B,UAAX,EAAuBC,MAAvB,CAAN;AACD;AACF;;AAED,UAAIL,GAAJ,EAAS;AACPF,QAAAA,GAAG,GAAG,CAAC,GAAGvB,MAAM,CAACgC,aAAX,EAA0BP,GAA1B,EAA+B/B,GAA/B,EAAoCe,MAApC,EAA4CQ,SAA5C,EAAuDZ,KAAvD,EAA8DO,QAA9D,EAAwE,IAAxE,CAAN;AACD;AACF;;AAED,WAAOW,GAAP;AACD,GAvBD;;AAyBA,MAAIU,YAAY,GAAG,SAASA,YAAT,CAAsB5B,KAAtB,EAA6B;AAC9C,QAAIkB,GAAG,GAAG,CAAC,GAAGvB,MAAM,CAACwB,aAAX,EAA0BP,SAA1B,EAAqCZ,KAArC,EAA4CO,QAA5C,CAAV;AACA,QAAIW,GAAJ,EAAS,OAAOW,OAAO,CAACf,OAAR,CAAgBI,GAAhB,CAAP;AAET,QAAIY,aAAa,GAAG,CAAC,GAAGnC,MAAM,CAACoC,oBAAX,EAAiCnB,SAAjC,EAA4CZ,KAA5C,EAAmDQ,SAAnD,CAApB;AACA,QAAIsB,aAAJ,EAAmB,OAAOA,aAAP;AAEnB,QAAIE,IAAI,GAAG,IAAIH,OAAJ,CAAY,UAAUI,GAAV,EAAeC,GAAf,EAAoB;AACzC,UAAIC,MAAM,GAAG,SAASA,MAAT,CAAgBC,KAAhB,EAAuB;AAClCA,QAAAA,KAAK,GAAGA,KAAK,IAAI,IAAIC,KAAJ,CAAU,kBAAV,CAAjB;AACAC,QAAAA,YAAY,CAACC,KAAD,CAAZ;;AACA,YAAIlC,OAAJ,EAAa;AACX,cAAImC,SAAS,GAAG,OAAOC,MAAP,KAAkB,WAAlC;;AACA,cAAIC,IAAI,GAAG;AAAEC,YAAAA,QAAQ,EAAEH;AAAZ,WAAX;AACAnC,UAAAA,OAAO,CAAC+B,KAAD,EAAQM,IAAR,CAAP;AACD;;AACDR,QAAAA,GAAG,CAACE,KAAD,CAAH;AACD,OATD,CADyC,CAYzC;;;AACA,UAAIG,KAAK,GAAGpC,OAAO,IAAIyC,UAAU,CAACT,MAAD,EAAShC,OAAT,CAAjC;;AAEA,UAAIW,OAAO,GAAG,SAASA,OAAT,CAAiBM,GAAjB,EAAsB;AAClCkB,QAAAA,YAAY,CAACC,KAAD,CAAZ;AAEA,YAAIrB,GAAG,GAAG,CAAC,GAAGvB,MAAM,CAACgC,aAAX,EAA0BP,GAA1B,EAA+B/B,GAA/B,EAAoCe,MAApC,EAA4CQ,SAA5C,EAAuDZ,KAAvD,EAA8DO,QAA9D,CAAV;AACA,YAAIW,GAAJ,EAAS,OAAOe,GAAG,CAACf,GAAD,CAAV;AAETiB,QAAAA,MAAM,CAAC,IAAIE,KAAJ,CAAU,kBAAV,CAAD,CAAN;AACD,OAPD;;AASA,UAAIQ,OAAO,GAAG9B,IAAI,CAACf,KAAD,EAAQ;AAAEc,QAAAA,OAAO,EAAEA,OAAX;AAAoBqB,QAAAA,MAAM,EAAEA;AAA5B,OAAR,CAAlB,CAxByC,CA0BzC;AACA;;AACA,UAAI,CAACU,OAAD,IAAY,OAAOA,OAAO,CAACC,IAAf,KAAwB,UAAxC,EAAoD;AACpDD,MAAAA,OAAO,CAACC,IAAR,CAAahC,OAAb,EAAsBiC,KAAtB,CAA4BZ,MAA5B;AACD,KA9BU,CAAX;AAgCA,KAAC,GAAGxC,MAAM,CAACqD,SAAX,EAAsBhB,IAAtB,EAA4BpB,SAA5B,EAAuCZ,KAAvC,EAA8CQ,SAA9C;AACA,WAAOwB,IAAP;AACD,GAzCD;;AA2CA,MAAIiB,SAAS,GAAG,SAASA,SAAT,CAAmBjD,KAAnB,EAA0B;AACxC,QAAIL,MAAM,CAACgD,QAAP,IAAmBhD,MAAM,CAACuD,MAA9B,EAAsC;AACpC,UAAItC,SAAJ,EAAe;AACb,YAAIuC,IAAI,GAAG,CAAC,GAAGxD,MAAM,CAAC4B,aAAX,EAA0BX,SAA1B,EAAqCZ,KAArC,CAAX;;AACA,YAAIS,eAAJ,EAAqB;AACnB;AACA,cAAI2C,cAAc,GAAGrD,OAAO,IAAI,CAAC,CAACA,OAAO,CAACsD,iBAA1C;;AACA,cAAI,CAACD,cAAL,EAAqB;AACnBD,YAAAA,IAAI,GAAGA,IAAI,CAACG,OAAL,CAAa,KAAb,EAAoB,GAApB,CAAP;AACD;AACF;;AACD,YAAIH,IAAJ,EAAUvE,WAAW,CAAC2E,GAAZ,CAAgBJ,IAAhB;AACV,YAAI,CAACxD,MAAM,CAACuD,MAAZ,EAAoB,OAAOC,IAAP,CAVP,CAUoB;AAClC;;AAED,UAAI,CAAC,GAAGxD,MAAM,CAAC0B,SAAX,GAAJ,EAA6B;AAC3B,YAAII,MAAM,GAAG,CAAC,GAAG9B,MAAM,CAAC4B,aAAX,EAA0BT,OAA1B,EAAmCd,KAAnC,CAAb;AACA,YAAIyB,MAAJ,EAAY9C,UAAU,CAAC4E,GAAX,CAAe9B,MAAf;AACZ,eAAOA,MAAP;AACD;;AAED,UAAI,CAAC,CAAC,GAAG9B,MAAM,CAAC0B,SAAX,GAAL,EAA8B;AAC5B,YAAIC,UAAU,GAAG,CAAC,GAAG3B,MAAM,CAAC4B,aAAX,EAA0BV,IAA1B,EAAgCb,KAAhC,CAAjB;AACA,YAAIsB,UAAJ,EAAgB3C,UAAU,CAAC4E,GAAX,CAAejC,UAAf;AAChB,eAAOA,UAAP;AACD;AACF;AACF,GA3BD;;AA6BA,MAAIkC,YAAY,GAAG,SAASA,YAAT,CAAsBC,IAAtB,EAA4BC,IAA5B,EAAkC;AACnD,QAAIC,QAAQ,GAAG,CAAC,GAAGhE,MAAM,CAAC4B,aAAX,EAA0BX,SAA1B,EAAqC6C,IAArC,CAAf;AAEA,QAAI/C,MAAM,GAAGC,SAAS,CAACL,SAAD,EAAYR,eAAZ,EAA6BC,OAA7B,EAAsC2D,IAAtC,CAAtB;AACA,QAAIE,YAAY,GAAG,CAAC,GAAGjE,MAAM,CAAC4B,aAAX,EAA0Bb,MAAM,CAACE,SAAjC,EAA4C8C,IAA5C,CAAnB;AAEA,WAAOC,QAAQ,KAAKC,YAApB;AACD,GAPD;;AASA,SAAO;AACL3C,IAAAA,WAAW,EAAEA,WADR;AAELW,IAAAA,YAAY,EAAEA,YAFT;AAGLqB,IAAAA,SAAS,EAAEA,SAHN;AAILO,IAAAA,YAAY,EAAEA,YAJT;AAKLxC,IAAAA,SAAS,EAAEA;AALN,GAAP;AAOD;;AAED,IAAItC,eAAe,GAAGJ,OAAO,CAACI,eAAR,GAA0B,SAASA,eAAT,GAA2B;AACzE,MAAImF,MAAM,GAAGC,KAAK,CAACC,IAAN,CAAWnF,WAAX,CAAb;AACAA,EAAAA,WAAW,CAACoF,KAAZ;AACA,SAAOH,MAAP;AACD,CAJD;;AAMA,IAAIpF,cAAc,GAAGH,OAAO,CAACG,cAAR,GAAyB,SAASA,cAAT,GAA0B;AACtE,MAAIwF,GAAG,GAAGH,KAAK,CAACC,IAAN,CAAWpF,UAAX,CAAV;AACAA,EAAAA,UAAU,CAACqF,KAAX;AACA,SAAOC,GAAP;AACD,CAJD;;AAMA,IAAIzF,WAAW,GAAGF,OAAO,CAACE,WAAR,GAAsB,SAASA,WAAT,GAAuB;AAC7DI,EAAAA,WAAW,CAACoF,KAAZ;AACArF,EAAAA,UAAU,CAACqF,KAAX;AACD,CAHD;;AAKA,IAAIrD,SAAS,GAAG,SAASA,SAAT,CAAmBL,SAAnB,EAA8BR,eAA9B,EAA+CC,OAA/C,EAAwDC,KAAxD,EAA+D;AAC7E,MAAIM,SAAJ,EAAe;AACb,QAAI4D,eAAe,GAAG,OAAOpE,eAAP,KAA2B,UAA3B,GAAwCA,eAAe,CAACE,KAAD,CAAvD,GAAiEF,eAAvF;;AACA,QAAIC,OAAJ,EAAa;AACXmE,MAAAA,eAAe,GAAGpF,QAAQ,CAAC,EAAD,EAAKoF,eAAL,EAAsBnE,OAAtB,CAA1B;AACD;;AACD,WAAOmE,eAAP;AACD;;AAED,MAAInD,IAAI,GAAG,OAAOjB,eAAP,KAA2B,UAA3B,GAAwCA,eAAxC,GAA0D;AACrE,cAAY;AACV,WAAOA,eAAP;AACD,GAHD;AAKA,SAAO;AACLqE,IAAAA,IAAI,EAAE,SADD;AAELC,IAAAA,EAAE,EAAErE,OAAO,CAACqE,EAAR,IAAc,SAFb;AAGLxD,IAAAA,SAAS,EAAEb,OAAO,CAACa,SAAR,IAAqB,SAH3B;AAILE,IAAAA,OAAO,EAAEf,OAAO,CAACe,OAAR,IAAmB,EAJvB;AAKLD,IAAAA,IAAI,EAAEd,OAAO,CAACc,IAAR,IAAgB,EALjB;AAMLE,IAAAA,IAAI,EAAEA,IAND;AAOLsC,IAAAA,iBAAiB,EAAE;AAPd,GAAP;AASD,CAvBD","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clearChunks = exports.flushModuleIds = exports.flushChunkNames = exports.MODULE_IDS = exports.CHUNK_NAMES = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = requireUniversalModule;\n\nvar _utils = require('./utils');\n\nvar CHUNK_NAMES = exports.CHUNK_NAMES = new Set();\nvar MODULE_IDS = exports.MODULE_IDS = new Set();\n\nfunction requireUniversalModule(universalConfig, options, props, prevProps) {\n  var key = options.key,\n      _options$timeout = options.timeout,\n      timeout = _options$timeout === undefined ? 15000 : _options$timeout,\n      onLoad = options.onLoad,\n      onError = options.onError,\n      isDynamic = options.isDynamic,\n      modCache = options.modCache,\n      promCache = options.promCache,\n      usesBabelPlugin = options.usesBabelPlugin;\n\n\n  var config = getConfig(isDynamic, universalConfig, options, props);\n  var chunkName = config.chunkName,\n      path = config.path,\n      resolve = config.resolve,\n      load = config.load;\n\n  var asyncOnly = !path && !resolve || typeof chunkName === 'function';\n\n  var requireSync = function requireSync(props) {\n    var exp = (0, _utils.loadFromCache)(chunkName, props, modCache);\n\n    if (!exp) {\n      var mod = void 0;\n\n      if (!(0, _utils.isWebpack)() && path) {\n        var modulePath = (0, _utils.callForString)(path, props) || '';\n        mod = (0, _utils.tryRequire)(modulePath);\n      } else if ((0, _utils.isWebpack)() && resolve) {\n        var weakId = (0, _utils.callForString)(resolve, props);\n\n        if (__webpack_modules__[weakId]) {\n          mod = (0, _utils.tryRequire)(weakId);\n        }\n      }\n\n      if (mod) {\n        exp = (0, _utils.resolveExport)(mod, key, onLoad, chunkName, props, modCache, true);\n      }\n    }\n\n    return exp;\n  };\n\n  var requireAsync = function requireAsync(props) {\n    var exp = (0, _utils.loadFromCache)(chunkName, props, modCache);\n    if (exp) return Promise.resolve(exp);\n\n    var cachedPromise = (0, _utils.loadFromPromiseCache)(chunkName, props, promCache);\n    if (cachedPromise) return cachedPromise;\n\n    var prom = new Promise(function (res, rej) {\n      var reject = function reject(error) {\n        error = error || new Error('timeout exceeded');\n        clearTimeout(timer);\n        if (onError) {\n          var _isServer = typeof window === 'undefined';\n          var info = { isServer: _isServer };\n          onError(error, info);\n        }\n        rej(error);\n      };\n\n      // const timer = timeout && setTimeout(reject, timeout)\n      var timer = timeout && setTimeout(reject, timeout);\n\n      var resolve = function resolve(mod) {\n        clearTimeout(timer);\n\n        var exp = (0, _utils.resolveExport)(mod, key, onLoad, chunkName, props, modCache);\n        if (exp) return res(exp);\n\n        reject(new Error('export not found'));\n      };\n\n      var request = load(props, { resolve: resolve, reject: reject });\n\n      // if load doesn't return a promise, it must call resolveImport\n      // itself. Most common is the promise implementation below.\n      if (!request || typeof request.then !== 'function') return;\n      request.then(resolve).catch(reject);\n    });\n\n    (0, _utils.cacheProm)(prom, chunkName, props, promCache);\n    return prom;\n  };\n\n  var addModule = function addModule(props) {\n    if (_utils.isServer || _utils.isTest) {\n      if (chunkName) {\n        var name = (0, _utils.callForString)(chunkName, props);\n        if (usesBabelPlugin) {\n          // if ignoreBabelRename is true, don't apply regex\n          var shouldKeepName = options && !!options.ignoreBabelRename;\n          if (!shouldKeepName) {\n            name = name.replace(/\\//g, '-');\n          }\n        }\n        if (name) CHUNK_NAMES.add(name);\n        if (!_utils.isTest) return name; // makes tests way smaller to run both kinds\n      }\n\n      if ((0, _utils.isWebpack)()) {\n        var weakId = (0, _utils.callForString)(resolve, props);\n        if (weakId) MODULE_IDS.add(weakId);\n        return weakId;\n      }\n\n      if (!(0, _utils.isWebpack)()) {\n        var modulePath = (0, _utils.callForString)(path, props);\n        if (modulePath) MODULE_IDS.add(modulePath);\n        return modulePath;\n      }\n    }\n  };\n\n  var shouldUpdate = function shouldUpdate(next, prev) {\n    var cacheKey = (0, _utils.callForString)(chunkName, next);\n\n    var config = getConfig(isDynamic, universalConfig, options, prev);\n    var prevCacheKey = (0, _utils.callForString)(config.chunkName, prev);\n\n    return cacheKey !== prevCacheKey;\n  };\n\n  return {\n    requireSync: requireSync,\n    requireAsync: requireAsync,\n    addModule: addModule,\n    shouldUpdate: shouldUpdate,\n    asyncOnly: asyncOnly\n  };\n}\n\nvar flushChunkNames = exports.flushChunkNames = function flushChunkNames() {\n  var chunks = Array.from(CHUNK_NAMES);\n  CHUNK_NAMES.clear();\n  return chunks;\n};\n\nvar flushModuleIds = exports.flushModuleIds = function flushModuleIds() {\n  var ids = Array.from(MODULE_IDS);\n  MODULE_IDS.clear();\n  return ids;\n};\n\nvar clearChunks = exports.clearChunks = function clearChunks() {\n  CHUNK_NAMES.clear();\n  MODULE_IDS.clear();\n};\n\nvar getConfig = function getConfig(isDynamic, universalConfig, options, props) {\n  if (isDynamic) {\n    var resultingConfig = typeof universalConfig === 'function' ? universalConfig(props) : universalConfig;\n    if (options) {\n      resultingConfig = _extends({}, resultingConfig, options);\n    }\n    return resultingConfig;\n  }\n\n  var load = typeof universalConfig === 'function' ? universalConfig : // $FlowIssue\n  function () {\n    return universalConfig;\n  };\n\n  return {\n    file: 'default',\n    id: options.id || 'default',\n    chunkName: options.chunkName || 'default',\n    resolve: options.resolve || '',\n    path: options.path || '',\n    load: load,\n    ignoreBabelRename: true\n  };\n};"]},"metadata":{},"sourceType":"script"}