(this["webpackJsonpaem-react-spa-app"]=this["webpackJsonpaem-react-spa-app"]||[]).push([[6],{578:function(e,t,a){var s=a(85),n=a(86),i=a(110),o=a(146),r=a(147),l=a(109);"undefined"!=typeof self&&self,e.exports=function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=18)}({0:function(e,t){e.exports=a(1)},1:function(e,t){e.exports=a(9)},18:function(e,t,a){e.exports=a(9)},2:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return d}));var c=a(0),u=function(){try{return"undefined"!=typeof window}catch(e){return!1}}(),p=function(e,t){return function(a){var s=a.baseCssClass,n=s&&s.trim().length>0?s:t,i=l(l({},a),{},{baseCssClass:n});return c.createElement(e,Object.assign({},i))}},d=function(e){return function(t){o(l,t);var a=r(l);function l(e){var t;return s(this,l),(t=a.call(this,e)).state={},u&&window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&(t.messageChannel=new window.Granite.author.MessageChannel("cqauthor",window),t.callback=t.callback.bind(i(t))),t}return n(l,[{key:"callback",value:function(e){if(e.data&&e.data.id===this.props.cqPath&&"navigate"===e.data.operation){var t=e.data.index;this.setState({activeIndexFromAuthorPanel:t})}}},{key:"componentDidMount",value:function(){this.messageChannel&&this.messageChannel.subscribeRequestMessage("cmp.panelcontainer",this.callback)}},{key:"componentWillUnmount",value:function(){this.messageChannel&&this.messageChannel.unsubscribeRequestMessage("cmp.panelcontainer",this.callback)}},{key:"render",value:function(){return c.createElement(e,Object.assign({},this.props,{activeIndexFromAuthorPanel:this.state.activeIndexFromAuthorPanel}))}}]),l}(c.Component)}},5:function(e,t,a){"use strict";function s(e){return null==e.cqItemsOrder||0===e.cqItemsOrder.length}a.d(t,"a",(function(){return s}))},9:function(e,t,a){"use strict";a.r(t);var l=a(0),c=a.n(l),u=a(2),p=a(1),d=a(5),h=function(e,t){for(var a=e,s=0;s<t.length;s++){var n="{"+s+"}";a=a.replace(n,t[s])}return a},b=function(e){o(a,e);var t=r(a);function a(e){var n;return s(this,a),(n=t.call(this,e)).interval=0,n.clearAutoPlay=function(){window.clearInterval(n.interval)},n.state={activeIndex:0,isMouseEntered:!1,autoPlay:n.props.autoplay&&!n.props.isInEditor,componentMapping:n.props.componentMapping||p.ComponentMapping},n.handleIndicatorClick=n.handleIndicatorClick.bind(i(n)),n.handleOnButtonPrev=n.handleOnButtonPrev.bind(i(n)),n.handleOnButtonNext=n.handleOnButtonNext.bind(i(n)),n.handleOnMouseEnter=n.handleOnMouseEnter.bind(i(n)),n.handleOnMouseLeave=n.handleOnMouseLeave.bind(i(n)),n}return n(a,[{key:"componentDidUpdate",value:function(e,t,a){void 0!==this.props.activeIndexFromAuthorPanel&&e.activeIndexFromAuthorPanel!=this.props.activeIndexFromAuthorPanel&&(this.setState({activeIndex:this.props.activeIndexFromAuthorPanel}),this.toggleAutoPlay(!1))}},{key:"componentDidMount",value:function(){this.autoPlay()}},{key:"componentWillUnmount",value:function(){this.interval&&this.clearAutoPlay()}},{key:"handleOnMouseEnter",value:function(){!this.props.autopauseDisabled&&this.props.autoplay&&this.clearAutoPlay()}},{key:"handleOnMouseLeave",value:function(){!this.props.autopauseDisabled&&this.props.autoplay&&this.autoPlay()}},{key:"handleOnButtonPrev",value:function(){this.prevSlide()}},{key:"handleOnButtonNext",value:function(){this.nextSlide()}},{key:"handleIndicatorClick",value:function(e){this.state.activeIndex!==e&&this.setState({activeIndex:e})}},{key:"autoPlay",value:function(){var e=this;this.interval=window.setInterval((function(){e.autoPlayTick()}),this.props.delay)}},{key:"autoPlayTick",value:function(){!this.state.autoPlay||this.props.cqItemsOrder.length<=1||this.nextSlide()}},{key:"toggleAutoPlay",value:function(e){this.setState({autoPlay:e})}},{key:"nextSlide",value:function(){var e=this.__getActiveIndex();e===this.props.cqItemsOrder.length-1?this.__setSlide(0):this.__setSlide(e+1)}},{key:"prevSlide",value:function(){var e=this.__getActiveIndex();0===e?this.__setSlide(this.props.cqItemsOrder.length-1):this.__setSlide(e-1)}},{key:"__getActiveIndex",value:function(){return this.state.activeIndex}},{key:"__setSlide",value:function(e){this.setState({activeIndex:e})}},{key:"render",value:function(){var e=Object(d.a)(this.props);return c.a.createElement("div",{className:this.props.baseCssClass,role:"group","data-panelcontainer":"carousel","aria-label":this.props.accessibilityLabel,"aria-roledescription":"carousel"},!e&&this.renderCarousel(),this.placeholderComponent)}},{key:"displayItem",value:function(e,t){var a=t===this.state.activeIndex,s=!(!a&&!this.props.isInEditor),n=a?"".concat(this.props.baseCssClass,"__item ").concat(this.props.baseCssClass,"__item--active"):this.props.baseCssClass+"__item",i=h(this.props.accessibility.slide,[(t+1).toString(),this.props.cqItemsOrder.length.toString()]);return c.a.createElement("div",{key:"item-"+t,className:n,role:"tabpanel","aria-label":i,"data-cmp-hook-carousel":"item"},s&&e)}},{key:"renderCarousel",value:function(){var e=this;return c.a.createElement("div",{className:this.props.baseCssClass+"__content",onMouseEnter:function(){return e.handleOnMouseEnter()},onMouseLeave:function(){return e.handleOnMouseLeave()}},this.childComponents.map((function(t,a){return e.displayItem(t,a)})),this.renderCarouselActions(),this.renderCarouselIndicators())}},{key:"renderCarouselIndicators",value:function(){var e=this;return c.a.createElement("ol",{className:this.props.baseCssClass+"__indicators",role:"tablist","aria-label":this.props.accessibility.indicators},this.props.cqItemsOrder.map((function(t,a){var s=e.props.cqItems[t],n=a===e.state.activeIndex?"".concat(e.props.baseCssClass,"__indicator ").concat(e.props.baseCssClass,"__indicator--active"):e.props.baseCssClass+"__indicator",i=h(e.props.accessibility.indicator,[(a+1).toString()]);return c.a.createElement("li",{key:"item-"+a,onClick:function(){return e.handleIndicatorClick(a)},className:n,role:"tab","aria-label":i},s["cq:panelTitle"])})))}},{key:"renderCarouselActions",value:function(){var e=this;return c.a.createElement("div",{className:this.props.baseCssClass+"__actions"},c.a.createElement("button",{onClick:function(){return e.handleOnButtonPrev()},className:"".concat(this.props.baseCssClass,"__action ").concat(this.props.baseCssClass,"__action--previous"),type:"button","aria-label":this.props.accessibility.previous},c.a.createElement("span",{className:this.props.baseCssClass+"__action-icon"}),c.a.createElement("span",{className:this.props.baseCssClass+"__action-text"},this.props.accessibility.previous)),c.a.createElement("button",{onClick:function(){return e.handleOnButtonNext()},className:"".concat(this.props.baseCssClass,"__action ").concat(this.props.baseCssClass,"__action--next"),type:"button","aria-label":this.props.accessibility.next},c.a.createElement("span",{className:this.props.baseCssClass+"__action-icon"}),c.a.createElement("span",{className:this.props.baseCssClass+"__action-text"},this.props.accessibility.next)),this.props.autoplay&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"".concat(this.props.baseCssClass,"__action ").concat(this.props.baseCssClass,"__action--pause ")+(this.state.autoPlay?"":this.props.baseCssClass+"__action--disabled"),type:"button","aria-label":this.props.accessibility.pause,onClick:function(){return e.toggleAutoPlay(!1)}},c.a.createElement("span",{className:this.props.baseCssClass+"__action-icon"}),c.a.createElement("span",{className:this.props.baseCssClass+"__action-text"},this.props.accessibility.pause)),c.a.createElement("button",{className:"".concat(this.props.baseCssClass,"__action ").concat(this.props.baseCssClass,"__action--play ")+(this.state.autoPlay?this.props.baseCssClass+"__action--disabled":""),type:"button","aria-label":this.props.accessibility.play,onClick:function(){return e.toggleAutoPlay(!0)}},c.a.createElement("span",{className:this.props.baseCssClass+"__action-icon"}),c.a.createElement("span",{className:this.props.baseCssClass+"__action-text"},this.props.accessibility.play))))}}]),a}(p.Container);b.defaultProps={_allowedComponentPlaceholderListEmptyLabel:"CarouselV1",isInEditor:!1,autoplay:!1,cqPath:"",cqItems:{},cqItemsOrder:[],accessibilityLabel:"Carousel",accessibility:{play:"Play",pause:"Pause",next:"Next",previous:"Previous",slide:"Slide {0} of {1}",indicator:"Slide %{0}",indicators:"Choose a slide to display"}},t.default=Object(u.b)(Object(u.a)(b),"cmp-carousel")}})}}]);
//# sourceMappingURL=6.bacc6708.chunk.js.map